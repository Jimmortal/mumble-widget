/*
 *  mumble-widget - v0.0.1
 *  Mumble Channel Viewer Widget
 *  http://github.com/alfg/mumble-widget
 *
 *  Made by Alfred Gutierrez
 *  Under MIT License
 */
!function(){function a(){var a=$("<script>",{rel:"stylesheet",type:"text/javascript",src:"//cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"});a.appendTo("head"),c=window.jQuery.noConflict(!0),c.ajaxSetup({async:!1}),b()}function b(){c(document).ready(function(a){function b(){function b(){a.ajax({url:h,async:!1,dataType:"jsonp",success:function(a){console.log(a),d.cvp(a),d.userCount(c(a))}})}function c(a){var b=a.root.users.length;for(i=0;i<a.root.channels.length;i++){var c=a.root.channels[i].users.length;b+=c}return b}var d=this;d.cvp=ko.observable(b()),d.userCount=ko.observable(),setInterval(function(){b()},15e3)}var c=a(".mumble-widget").data("key"),d=a(".mumble-widget").data("width")||500,e=a(".mumble-widget").data("source")||"http://guildbit.com/server/cvp/"+c+"/json/?callback=?",f="//dqc3ygqu0f1ud.cloudfront.net/dist/mumble-widget/mumble-widget.min.css";a("#mumble-widget-container").width(d);var g=a("<link>",{rel:"stylesheet",type:"text/css",href:f});g.appendTo("head");var h=e,j="<table class='mumble-script-widget rounded centered' data-bind='with: cvp'><thead>                 <tr data-bind='ifnot: $data.code'><th><a href='#' data-bind='text: name, attr: { href: x_connecturl }'></a></th></tr>                 <tr data-bind='if: $data.code'><th>Not Found</th></tr>                 </thead><tbody>                 <!-- ko ifnot: $data.code -->                   <!-- ko foreach: root.users -->                   <tr><td data-bind='text: name'></td></tr>                   <!-- /ko -->                   <!-- ko foreach: root.channels -->                     <!-- ko if: users.length > 0 -->                     <tr class='subchannels'><td data-bind='text: name'></td></tr>                     <!-- /ko -->                     <!-- ko foreach: users -->                     <tr><td data-bind='text: &apos;&mdash; &apos; + name'></td></tr>                     <!-- /ko -->                   <!-- /ko -->                   <!-- ko if: $root.userCount() == 0 -->                   <tr><td>No users are online</td></tr>                   <!-- /ko -->                 <!-- /ko -->                                 <!-- ko if: $data.code -->                 <tr><td>Unable to load</td></tr>                 <!-- /ko -->                                 </tbody></table>";a("#mumble-widget-container").html(j),ko.applyBindings(new b)})}var c;if(void 0===window.jQuery||"2.1.1"!==window.jQuery.fn.jquery){var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("src","//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"),d.readyState?d.onreadystatechange=function(){("complete"===this.readyState||"loaded"===this.readyState)&&a()}:d.onload=a,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(d)}else c=window.jQuery,b()}();